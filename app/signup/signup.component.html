<FlexboxLayout class="login-page">

    <StackLayout class="full-content" *ngIf="visible_key">

        <Image class="logo" [src]="app_details?.logo"  height="90" *ngIf="app_details?.logo != null"></Image>
        <Image class="logo"  src="~/images/no-image-logo.jpg" height="90" *ngIf="app_details?.logo == null"></Image>
        <StackLayout class="apps-container" *ngIf="!showOtpSection">

            <StackLayout class="form" [formGroup]="form" novalidate>

                <label class="head-line-store hedding-font" text="Sign Up"></label>
                <GridLayout rows="auto, auto, auto, auto">
                    <StackLayout class="input-filld" row="0">
                        <TextField hint="Name" class="input input-border cyan-border m-t-10" borderColor="#6c6969"
                            backgroundColor="#fff" borderRadius="2" returnKeyType="next" formControlName="customer_name"
                            [ngClass]="displayFieldCss(form,'customer_name')" height="40" padding="10" fontSize="12"></TextField>
                        <StackLayout *ngIf="isFieldValid(form,'customer_name')" class="invalid-feedback">
                            <Label text="Name is required"></Label>
                        </StackLayout>
                    </StackLayout>

                    <StackLayout class="input-filld" row="1">
                        <TextField hint="Phone number" class="input input-border cyan-border m-t-10" borderColor="#6c6969"
                            backgroundColor="#fff" borderRadius="2" returnKeyType="next" keyboardType="number"
                            formControlName="contact_no" [ngClass]="displayFieldCss(form,'contact_no')" height="40"
                            padding="10" fontSize="12"></TextField>
                        <StackLayout class="invalid-feedback" *ngIf="isFieldValid(form,'contact_no')">
                            <Label text="Please enter valid phone number"></Label>
                        </StackLayout>
                    </StackLayout>

                    <StackLayout class="input-filld" row="2">
                        <TextField hint="Email id" class="input input-border cyan-border m-t-10" borderColor="#6c6969"
                            backgroundColor="#fff" borderRadius="2" autocorrect="false" autocapitalizationType="none"
                            returnKeyType="next" keyboardType="email" formControlName="email" [ngClass]="displayFieldCss(form,'email')"
                            height="40" padding="10" fontSize="12"></TextField>
                        <StackLayout class="invalid-feedback" *ngIf="isFieldValid(form,'email')">
                            <Label text="Please enter a valid email address"></Label>
                        </StackLayout>
                    </StackLayout>

                    <StackLayout class="input-filld" row="3">
                        <TextField hint="Password" class="input input-border cyan-border m-t-10" borderColor="#6c6969"
                            backgroundColor="#fff" borderRadius="2" secure="true" returnKeyType="done" formControlName="password"
                            [ngClass]="displayFieldCss(form,'password')" height="40" padding="10" fontSize="12"></TextField>
                        <StackLayout *ngIf="isFieldValid(form,'password')" class="invalid-feedback">
                            <Label text="Password is required"></Label>
                        </StackLayout>
                    </StackLayout>
                </GridLayout>

                <Button class="btn btn-primary" text="Sign Up" (tap)="signUp()" backgroundColor="#284058" color="#fff"
                    width="50%">
                </Button>
                <StackLayout class="hr-light pading-gap m-b-10 m-t-10"></StackLayout>
                <Label text="Back to login" style="font-weight: 600" class="tag-line-grey" [nsRouterLink]="['/login']"></Label>

            </StackLayout>
        </StackLayout>
        <StackLayout class="apps-container" *ngIf="showOtpSection">
            <StackLayout class="form" [formGroup]="otpForm" novalidate>
                <label class="head-line-store hedding-font" text="Enter OTP"></label>
                <GridLayout rows="auto">
                    <StackLayout class="input-filld" row="0">
                        <TextField class="input input-border cyan-border m-t-10" borderRadius="2" borderColor="#6c6969"
                            backgroundColor="#fff" hint="OTP" returnKeyType="done" formControlName="otp" [ngClass]="displayFieldCss(otpForm,'otp')"
                            height="40" padding="10" fontSize="12"></TextField>
                        <StackLayout *ngIf="isFieldValid(otpForm,'otp')" class="invalid-feedback">
                            <Label fontSize="8" text="Enter Otp"></Label>
                        </StackLayout>
                    </StackLayout>
                </GridLayout>
                <Button class="btn btn-primary" text="Confirm" (tap)="submitOtp()" backgroundColor="#284058" color="#fff"
                    width="50%"></Button>
                <StackLayout class="hr-light pading-gap m-b-10 m-t-10"></StackLayout>
                <Label text="Resend OTP" class="tag-line-grey m-b-10 m-t-10" (tap)="resendOtp()"></Label>
                <Label text="Back to login" class="tag-line-grey m-b-10 m-t-10" [nsRouterLink]="['/login']"></Label>
            </StackLayout>
        </StackLayout>
    </StackLayout>
</FlexboxLayout>